<div class="sector2-1-img"></div>


<img src="../assets/images/sector2_image/companywe_sector2_img2.png"
     style="position: absolute;left: 742px;z-index: 30;"/>


<!--current="main.currentCompanyResources.dem_negawatt"-->
<round-progress
  max="100"
  current="state2_3.gageCurrentDevelop"
  color="#80ffff"
  bgcolor="#edfbff"
  radius="230"
  stroke="50"
  rounded="true"
  clockwise="true"
  responsive="false"
  duration="4000"
  animation="easeInOutQuart"
  animation-delay="0"
  style="top: 755px;left: 1336px;width: 470px;height: 470px;
  -ms-transform: rotate(180deg); /* IE 9 */
  -webkit-transform: rotate(180deg); /* Chrome, Safari, Opera */
  transform: rotate(180deg);"></round-progress>

<div class="absolute" style="z-index: 40;">
  <!--title-->
  <div class="absolute pt42 bfffff" style="left: 954px;top: 80px;width: 260px;">
    NVPP <span class="c-7ca6a6" style="font-weight: 200;">VISION</span>
  </div>

  <div class="absolute pt42 bfffff" style="left: 2040px;top: 80px;width: 260px;">ROOT</div>
  <div class="absolute pt42 bfffff resource-dropdown" style="left: 2317px;top: 80px;width: 416px;">
    <span uib-dropdown on-toggle="toggled(open)">
      <a href id="simple-dropdown" uib-dropdown-toggle style="color: #bfffff;">
        MicroNOC
      </a>
      <ul class="dropdown-menu" uib-dropdown-menu aria-labelledby="simple-dropdown">
        <li ng-repeat="resource in state2_3.companiesResources">
          <a href>{{resource.res_name}}</a>
        </li>
      </ul>
    </span>
  </div>

  <div class="state2-btn-dr" style="left: 2994px;top: 90px;">Fast DR</div>
  <div class="state2-btn-dr" style="left: 3138px;top: 90px;">DR</div>
  <div class="state2-btn-dr" style="left: 3280px;top: 90px;">Slow DR</div>


  <!--section-->
  <div class="sector2-map">
    <div class="absolute" style="left: 288px;top: 453px;width: 148px;text-align: center;">
      <span class="pt20 bfffff">generation (solar)</span><br/>
      <span
        class="pt60 fffef2">{{state2_3.solarDemandData.nega_watt|number:0}}</span>
      <span class="pt24 fffef2">kW</span><br/>
      <span class="pt20 c-7ca6a6">for demand source</span>
    </div>

    <div class="absolute" style="left: 369px;top: 703px;width: 132px;">
      <span class="pt16 c-80ffff" style="margin-bottom: 6px;display: inline-block;">POWER OUTPUT</span><br/>
      <!--<span class="watt-off">Megawatt Mode</span><br/>-->
      <span class="watt-on">에너지 자립 모드</span>
    </div>

    <img src="../assets/images/sector2_image/high_line.png" style="position: absolute;left: 454px;top: 522px;" ng-show="state2_3.gageCurrentDevelop == 270" />
    <img src="../assets/images/sector2_image/highcost.png"  style="position: absolute;left: 508px;top: 522px;"  ng-show="state2_3.gageCurrentDevelop == 270" />

    <div class="absolute" style="left: 618px;top: 684px;width: 200px;">
      <span class="pt20 bfffff">MAX(max generation output)</span><br/>
      <span class="pt60 fffef2">{{state2_3.solarDemandData.max_limit|number:1}}</span><span class="pt24 fffef2">kW</span>
    </div>

    <!--수용가 list repeat-->
    <div class="absolute pt42 bfffff" style="left: 52px;top: 910px;width: 555px;">customer generation status</div>
    <div class="absolute" style="left: 52px;top: 1015px;width: 500px;height: 1037px;overflow-y: hidden;">
      <!--todo:: call value, current temp value-->
      <div class="absolute pt24 c-7ca6a6" style="width: 170px;line-height: 55px;">
        <!-- Tim. 로딩중 이미지 추가 -->
        <img src="../assets/images/loading_img.gif" ng-show="(!state2_3.resourcesConsumers || state2_3.resourcesConsumers.length == 0) && !state2_3.error" style="width:150px; height:150px; position: absolute;top: 130px;left: 175px;"/>
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
            width="500px" height="1037px" viewBox="-38 23 100 100" enable-background="new -38 20 100 100" xml:space="preserve"  ng-show="state2_3.error">
        <path fill="#FFFFFF" d="M16.142,2L22,7.858v8.284L16.142,22H7.858L2,16.142V7.858L7.858,2H16.142z M16.971,0H7.029L0,7.029v9.941
          L7.029,24h9.941L24,16.971V7.029C24,7.029,16.971,0,16.971,0z M11,6h2v8h-2V6z M12,18.25c-0.69,0-1.25-0.56-1.25-1.25
          s0.56-1.25,1.25-1.25s1.25,0.56,1.25,1.25S12.69,18.25,12,18.25z"/>
      </svg>
        <ul ng-repeat="con in state2_3.resourcesConsumers|limitTo:6:state2_3.consumerBeginNumber">
          <li style="overflow: hidden;
    height: 55px;
    text-overflow: ellipsis;
    white-space: nowrap;
    word-break: break-all;">{{con.cons_name}}
          </li>
        </ul>
      </div>
      <div class="absolute pt24 c-7ca6a6" style="left: 173px;top: 7px;width: 320px;height: 30px;line-height: 55px;">
        <div ng-repeat="con in state2_3.resourcesConsumers|limitTo:6:state2_3.consumerBeginNumber" style="">

          <!-- 테양광은 마이너스 발전이 없음. 붉은 영역 제거 -->
          <!--<div-->
            <!--style="float: left;background-color: #ff0000;height: 30px;margin-bottom: 25px;width: 10px;border-right: 1px solid #ff0000;"-->
            <!--ng-show="con.operateRatio < -1"></div>-->
          <!--<div-->
            <!--style="float: left;background-color: #2e3c40;height: 30px;margin-bottom: 25px;width: 10px;border-right: 1px solid #ff0000;"-->
            <!--ng-show="con.operateRatio >= -1"></div>-->

          <div style="float: left;background-color: #bfffff;height: 30px;margin-bottom: 25px;max-width: 310px;"
               ng-style="{width: con.operateRatio*310/100}"></div>
          <div style="margin-left:10px;background-color: #2e3c40;height: 30px;margin-bottom: 25px;width: 310px;"></div>
        </div>
      </div>
    </div>

    <div id="resource-graph" class="state2-graph" style="top: 320px;left: 987px;"></div>

    <section style="width: 2090px;height: 1225px;position: absolute;top: 903px;left: 600px;overflow: hidden;">
      <!-- Tim. 로딩중 이미지 추가 -->
      <img src="../assets/images/loading_img.gif" ng-show="(!state2_3.resourcesConsumers || state2_3.resourcesConsumers.length == 0) && !state2_3.error" style="width:300px; height:300px; position: absolute;top: 322.5px;left: 895px;"/>
      <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
           width="2090px" height="1225px" viewBox="-38 -28 100 100" enable-background="new -38 -28 100 100" xml:space="preserve" ng-show="state2_3.error">
        <path fill="#FFFFFF" d="M16.142,2L22,7.858v8.284L16.142,22H7.858L2,16.142V7.858L7.858,2H16.142z M16.971,0H7.029L0,7.029v9.941
          L7.029,24h9.941L24,16.971V7.029C24,7.029,16.971,0,16.971,0z M11,6h2v8h-2V6z M12,18.25c-0.69,0-1.25-0.56-1.25-1.25
          s0.56-1.25,1.25-1.25s1.25,0.56,1.25,1.25S12.69,18.25,12,18.25z"/>
      </svg>
      <!--each-->
      <div class="bfffff graph-section-each"
           ng-repeat="con in state2_3.resourcesConsumers|limitTo:6:state2_3.consumerBeginNumber">
        <div class="pt28" style="border-bottom: 1px solid #bfffff;padding-bottom: 4px;">{{con.cons_name}}</div>
        <div class="absolute pt24" style="top: 80px;">criteria time <span style="margin-left: 20px;">{{con.curr_date_time}}</span>
        </div>

        <img src="../assets/images/sector2_image/solar.png"
             class="consumer-img"/>

        <!--빌딩 게이지 가동률로 변경-->
        <div class="factory-bg" ng-style="{height: (con.ac/con.goal)*208}"></div>
        <!--height: con.operateRatio*335/100-->

        <!--<div class="absolute" style="top:167px;">-->
          <!--<div class="pt14">감축부하</div>-->
          <!--<div class="pt24 ff7e47">{{con.dem_cbl-con.dem_watt|number:0}}<span class="pt16">kW</span></div>-->
        <!--</div>-->
        <div class="absolute" style="top:292px;">
          <div class="pt14">current output(AC)</div>
          <div class="pt20 fffbcc">{{con.ac|number:1}}<span class="pt16">kW</span></div>
        </div>
        <!--<div class="absolute" style="top:430px;">-->
          <!--<div class="pt14">MAX</div>-->
          <!--<div class="pt20">{{con.maxTarget|number:0}}<span class="pt16">kW</span></div>-->
        <!--</div>-->

        <div class="absolute" style="top:253px;left: 273px;z-index: 40;">
          <span class="pt14">goal output</span>
          <span class="pt20">{{con.goal|number:1}}<span class="pt16">kW</span></span>
        </div>
        <img src="../assets/images/sector2_image/factory_line.png"
             style="position: absolute;top: 284px;left: 50px;z-index: 40;"/>

        <div class="absolute" style="top:411px;left: 265px;z-index: 40;">
          <span class="pt14">min limit output</span>
          <span class="pt20">{{con.limit|number:1}}<span class="pt16">kW</span></span>
        </div>
        <!--line:: 바닥부터 cbl라인까지 높이 208px-->
        <img src="../assets/images/sector2_image/factory_line2.png"
             style="position: absolute;left: 50px;z-index: 40;"
             ng-style="{top: con.line2}"
        /><!--origin top: 442px-->

        <div class="absolute"
             style="width: 200px;height: 320px;top:167px;left: 410px;border-left: 1px solid #3e5457;padding-left: 10px;">
          <div class="absolute" style="width: 200px;">
            <div class="pt14">generation</div>
            <div class="pt50 ff7e47" style="text-align: center;" ng-style="con.ac >= 1000 && {'font-size' : '35px'} || con.ac >= 100 && {'font-size' : '40px'} ">{{con.ac|number:1}} kW</div>
            <div class="pt8 c-7ca6a6">generation =</div>
            <div class="pt8 c-7ca6a6">inverter output value(AC)</div>
          </div>
          <div class="absolute" style="top:156px;line-height: 31px;">
            <div class="pt16 c-66ffff">current output</div>
            <div class="pt16">voltage</div>
            <div class="pt16 c-66ffff">electric current</div>
            <div class="pt16">solar radiation</div>
            <div class="pt16 c-66ffff">today accumulate generation amount</div>
          </div>
          <div class="absolute" style="top:156px;left: 127px;line-height: 31px;">
            <div class="pt16 c-66ffff">{{con.ac|number:1}}kW</div>
            <div class="pt16">{{con.vtg|number:1}}V</div>
            <div class="pt16 c-66ffff">{{con.crt|number:1}}A</div>
            <div class="pt16">{{con.sl|number:1}}watt/m²</div>
            <div class="pt16 c-66ffff">{{con.acc|number:1}}kWh</div>
          </div>
        </div>

      </div>
    </section>


  </div>
</div>

<div class="sector2-map-go" ui-sref="state2"></div>

<!--consumer minus line-->
<!--<div class="absolute" style="width: 0;height: 328px;top: 1011px;left: 975px;border: 1px solid #ff0000;z-index: 40;"></div>-->


<div ng-include="'app/components/state2-nav/state2-nav-solar.html'"></div>
<div ng-include="'app/components/state2-nav/state2-nav2-solar.html'"></div>
